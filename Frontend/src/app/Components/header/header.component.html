<div class="top-header-area" id="sticker">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-sm-12 text-center">
        <div class="main-menu-wrap">
          <!-- logo -->
          <div class="site-logo">
            <a routerLink="index.html">
              <img src="assets/img/logo.png" alt="" />
            </a>
          </div>
          <!-- logo -->

          <!-- menu start -->
          <nav class="main-menu">
            <ul>
              <li class="current-list-item">
                <a routerLinkActive="active" routerLink="/home">Home</a>
              </li>
              <li>
                <a routerLink="/stores">Stores</a>
                <ul class="sub-menu">
                  <li><a routerLink="shop.html">Shop</a></li>
                  <li><a routerLink="checkout.html">Check Out</a></li>
                  <li><a routerLink="single-product.html">Single Product</a></li>
                  <li><a routerLink="cart.html">Cart</a></li>
                </ul>
              </li>
              <li><a routerLink="#videoSec">About</a></li>
              <li>
                <a routerLink="#">Pages</a>
                <ul class="sub-menu">
                  <li><a routerLink="404.html">404 page</a></li>
                  <li><a routerLink="#videoSec">About</a></li>
                  <li><a routerLink="cart.html">Cart</a></li>
                  <li><a routerLink="checkout.html">Check Out</a></li>
                  <li><a routerLink="contact.html">Contact</a></li>
                  <li><a routerLink="#newsSec">News</a></li>
                  <li><a routerLink="#stores">Shop</a></li>
                </ul>
              </li>

              <li><a routerLink="contact.html">Contact</a></li>
              <ng-template #falseBlock>
                <li>
                  <a routerLink="#newsSec">Account</a>
                  <ul class="sub-menu">
                    <li><a routerLink="/login">Login</a></li>
                    <li><a routerLink="/register">Sign-up</a></li>
                  </ul>
                </li>
              </ng-template>

              <li *ngIf="user_data; else falseBlock">
                <a routerLink="/profile/{{ user_data.user_id }}">{{ user_data.user_name }}</a>
                <ul class="sub-menu">
                  <li>
                    <a routerLink="/profile/{{ user_data.user_id }}">Profile</a>
                  </li>
                  <li><a (click)="logout()">Logout</a></li>
                </ul>
              </li>
              <!-- //user image -->
              <li *ngIf="user_data">
                <img
                  [src]="user_image"
                  style="
                    width: 25px;
                    height: 25px;
                    border: 0px solid;
                    border-radius: 20px;
                  "
                />
              </li>

              <li>
                <div class="header-icons" *ngIf="user_data.role=='buyer' || user_data.role=='admin';">
                  <a class="shopping-cart"
                    ><i
                      class="fas fa-shopping-cart"
                      data-bs-toggle="offcanvas"
                      data-bs-target="#offcanvasScrolling"
                      aria-controls="offcanvasScrolling"
                      id="cartIcon"
                    ></i
                  ></a>
                </div>
                <div *ngIf="(user_data.role=='seller' || user_data.role=='admin') && count>0;">
                  <a routerLink="/orders" class="notifications-bell"><i id="cartIcon" class="fa-solid fa-bell fa-shake">{{count}}</i>‏</a>
                </div>
                <div *ngIf="(user_data.role=='seller' || user_data.role=='admin') && count==0;">
                  <a routerLink="/orders" class="notifications-bell"><i id="cartIcon" class="fa-solid fa-bell"></i>‏</a>
                </div>
              </li>
            </ul>
          </nav>
          <div class="mobile-menu"></div>
          <!-- menu end -->
        </div>
      </div>
    </div>
  </div>
  <div
    class="offcanvas offcanvas-end w-25"
    data-bs-scroll="true"
    data-bs-backdrop="false"
    tabindex="-1"
    id="offcanvasScrolling"
    aria-labelledby="offcanvasScrollingLabel"
  >
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Cart Details</h5>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="offcanvas"
        aria-label="Close"
      ></button>
    </div>
    <div class="offcanvas-body">
      <section class="h-100" style="background-color: #ffffff">
        <div class="container h-100 py-5">
          <div
            class="row d-flex justify-content-center align-items-center h-100"
          >
            <div class="col-10">
              <div
                class="d-flex justify-content-between align-items-center mb-4"
              >
                <h3 class="fw-normal mb-0 text-black">Shopping Cart</h3>
              </div>
              <div *ngFor="let product of addedProducts">
                <div class="card rounded-3 mb-4">
                  <div class="card-body p-4">
                    <div
                      class="row d-flex justify-content-between align-items-center"
                    >
                      <div class="">
                        <img
                          [src]="localhost + product.product_image"
                          class="img-fluid rounded-3"
                          alt="Cotton T-shirt"
                        />
                      </div>
                      <div class="">
                        <p class="lead fw-normal mb-2">
                          {{ product.product_title }}
                        </p>
                        <p>
                          <span class="text-muted">Size: </span>M
                          <span class="text-muted">Color: </span>Grey
                        </p>
                      </div>
                      <div class="d-flex">
                        <button
                          class="btn btn-link px-2"
                          (click)="decrementQuantity(product)"
                        >
                          <i class="fas fa-minus"></i>
                        </button>

                        <input
                          id="form1"
                          min="0"
                          name="quantity"
                          value="{{ product.quantity }}"
                          class="form-control form-control-sm"
                        />

                        <button
                          class="btn btn-link px-2"
                          (click)="incrementQuantity(product)"
                        >
                          <i class="fas fa-plus"></i>
                        </button>
                      </div>
                      <div class="offset-lg-1">
                        <h5 class="mb-0">${{ product.price }}</h5>
                      </div>
                      <div class="text-end">
                        <a class="text-danger" (click)="removeProduct(product)"
                          ><i class="fas fa-trash fa-lg"></i
                        ></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <a routerLink="checkout"
                ><button class="btn btn-dark">Proceed to Checkout</button></a
              >
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
